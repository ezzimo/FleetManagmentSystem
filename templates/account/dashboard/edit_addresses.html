{% extends "../sub_base.html" %}
{% block title %}Edit Addresses{% endblock %}

{% block sub_content %}
<div class=" col-lg-10 mx-auto">
  <h1 class="h3">Créer/Modifier des Adresses</h1>
  <div>Ajout nouvelle <b>adresse</b> et préférences de livraison</div>
  <hr>
  <div class="row">
    <div class="col-lg-12">
      <form name="address_form" class="account-form" method="post" enctype="multipart/form-data">
        {% if form.errors %}
        {{form.errors}}
        <div class="alert alert-primary" role="alert">
          Error: Veuillez réessayer!
        </div>
        {% endif %}
        {% csrf_token %}
        <label class="small fw-bold">{{form.customer.label}}</label>
        {{form.customer}}
        <div class="row row-cols-1 row-cols-sm-2 g-3">
          <div class="col-md-4">
            <label class="small fw-bold">{{ form.address_name.label}}</label>
            {{ form.address_name }}
            <label class="small fw-bold">{{ form.phone.label}}</label>
            {{ form.phone }}
            <label class="small fw-bold">{{ form.delivery_instructions.label}}</label>
            {{ form.delivery_instructions }}
          </div>
          <div class="col-md-8">
            <div class="row row-cols-1 row-cols-md-3 g-3">
              <div class="col">
                <label class="small fw-bold">{{form.town_region.label}}</label>
                {{form.town_region}}
              </div>
              <div class="col">
                <label class="small fw-bold">{{ form.town_city.label}}</label>
                {{ form.town_city }}
              </div>
              <div class="col">
                <label class="small fw-bold">{{ form.postcode.label}}</label>
                {{ form.postcode }}
              </div>
            </div>
            <label class="small fw-bold">{{ form.address_line_1.label}}</label>
            {{ form.address_line_1 }}
            <label class="small fw-bold">{{ form.address_line_2.label}}</label>
            {{ form.address_line_2 }}
          </div>
          <label class="small fw-bold">{{form.address_point.label}}</label>
          <map name="adresse localisation">
            {{ form.address_point}}
          </map>
          <div class="row">
            <div class="col">
              <button class="btn btn-primary btn-block py-2 mb-4 mt-4 fw-bold " type="button" value="Submit"
                onclick="submitForm()">
                Ajouter Adresse
              </button>
            </div>
          </div>
      </form>
    </div>
  </div>
</div>

<script>
  function submitForm() {
    var form = document.getElementsByName('address_form')[0];
    form.submit(); // Submit the form
    form.reset(); // Reset all form data
    return false; // Prevent page refresh
  }
</script>
{% endblock %}